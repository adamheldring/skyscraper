let axios,cheerio;_688‍.x([["getHTML",()=>getHTML],["getTwitterFollowers",()=>getTwitterFollowers],["getInstagramFollowers",()=>getInstagramFollowers]]);_688‍.w("axios",[["default",["axios"],function(v){axios=v}]]);_688‍.w("cheerio",[["default",["cheerio"],function(v){cheerio=v}]]);


       const getHTML = async url => {
  const { data: html } = await axios.get(url);
  return html;
};

       const getTwitterFollowers = async html => {
  const $ = cheerio.load(html);
  const el = $("a[data-nav='followers'] span[class='ProfileNav-value']");

  console.log("Getting Twitter followers...");
  const followers = el.data("count");
  return followers;
};

       const getInstagramFollowers = async html => {
  const $ = await cheerio.load(html);
  const dataAsString = $("body script").html();
  const indexOfCountObjectStart = dataAsString.indexOf('{"count"');
  const indexOfCountObjectEnd = dataAsString.indexOf(
    "}",
    indexOfCountObjectStart
  );
  const countObject = JSON.parse(
    dataAsString.slice(indexOfCountObjectStart, indexOfCountObjectEnd + 1)
  );

  console.log("Getting Instagram followers...");
  return countObject.count;
};

// const getMonthlySpotifyListeners = html => {
//   const $ = cheerio.load(html);
//   const el = $;
// };
